function printJob(e,t,n,a,l,r,o,d,c,s,i,m){if(null!==document.getElementById("job"))document.getElementById("percentage-match").innerHTML=m+"&#37;";else{var p=document.getElementById("jobs"),u=document.createElement("div");u.className="panel panel-default";var y=document.createElement("div");y.className="panel-heading",y.innerHTML+=t+" &bull; ";var g=document.createElement("strong");g.innerHTML=m+"&#37;";var h=document.createElement("div");h.className="panel-body";var E=document.createElement("p"),v=document.createElement("i"),b=document.createElement("strong");v.className="fa fa-map-marker",v.ariaHidden=!0,b.innerHTML=" "+c,b.innerHTML+="vic"==d?", Victoria":"nsw"==d?", New South Wales":"qld"==d?", Queensland":"wa"==d?", Western Australia":"sa"==d?", South Australia":"ta"==d?", Tasmania":"act"==d?", Australian Capital Territory":"nt"==d?", Northern Territory":", Other Australian Region";var f=document.createElement("p");f.innerHTML=n;var B=document.createElement("hr"),I=document.createElement("p"),k=document.createElement("strong");I.innerHTML="fulltime"==a?"Full time":"parttime"==a?"Part time":"Casual",k.innerHTML="Hours: ";var w=document.createElement("p"),j=document.createElement("strong");w.innerHTML="&#36;"+r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),w.innerHTML+="hourly"==l?" per hour":"weekly"==l?" per week":"fortnightly"==l?" per fortnight":"monthly"==l?" per month":" per annum",j.innerHTML="Salary: ";var L=document.createElement("p"),T=document.createElement("strong");if(L.innerHTML=o,T.innerHTML="Start date: ",null==document.getElementById("employer")){var H=document.createElement("p"),M=document.createElement("strong");M.innerHTML="Employer: "}var S=document.createElement("a");S.href="/employer/"+i,S.innerHTML=s;var N=document.createElement("hr"),x=document.createElement("p"),C=document.createElement("a");C.className="btn btn-primary",C.href="/job/"+e,C.innerHTML="View",u.appendChild(y),u.appendChild(h),y.append(g),h.append(E),E.prepend(v),E.append(b),h.append(f),h.append(B),h.append(I),I.prepend(k),h.append(w),w.prepend(j),h.append(L),L.prepend(T),null==document.getElementById("employer")&&(h.append(H),H.append(S),H.prepend(M)),h.append(N),h.append(x),x.append(C),p.appendChild(u),document.getElementById("loading").style.display="none"}}function match(){if(null!==document.getElementById("filters")){if("any"==document.getElementById("rate").value){document.getElementById("salary").disabled=!0,document.getElementById("salary").value="";e="any"}else{document.getElementById("salary").disabled=!1,"salary"!==event.target.id&&(document.getElementById("salary").value=document.getElementById("salary").min);var e=document.getElementById("salary").value}t="/api/jobs/state/"+document.getElementById("state").value+"/hours/"+document.getElementById("hours").value+"/term/"+document.getElementById("term").value+"/rate/"+document.getElementById("rate").value+"/salary/"+e}else if(null!==document.getElementById("job"))t="/api/job/"+document.getElementById("jobid").value;else var t="/api/jobs/employer/"+document.getElementById("employerid").value;var n,a=document.getElementsByName("csrf-token")[0].content,l=[],r=[],o=[],d=[];$.getJSON("/api/user/token/"+a,function(e){n=parseInt(""+e.java+e.python+e.c+e.csharp+e.cplus+e.php+e.html+e.css+e.javascript+e.sql+e.unix+e.winserver+e.windesktop+e.linuxdesktop+e.macosdesktop+e.perl+e.bash+e.batch+e.cisco+e.office+e.r+e.go+e.ruby+e.asp+e.scala+e.cow+e.actionscript+e.assembly+e.autohotkey+e.coffeescript+e.d+e.fsharp+e.haskell+e.matlab+e.objectivec+e.objectivecplus+e.pascal+e.powershell+e.rust+e.swift+e.typescript+e.vue+e.webassembly+e.apache+e.aws+e.docker+e.nginx+e.saas+e.ipv4+e.ipv6+e.dns,2)}).then(function(){$.getJSON(t+"/token/"+a,function(e){if(e.length>0){for(u=0;u<e.length;u++){d[u]=e[u],l[u]=u,r[u]=parseInt(""+e[u].java+e[u].python+e[u].c+e[u].csharp+e[u].cplus+e[u].php+e[u].html+e[u].css+e[u].javascript+e[u].sql+e[u].unix+e[u].winserver+e[u].windesktop+e[u].linuxdesktop+e[u].macosdesktop+e[u].perl+e[u].bash+e[u].batch+e[u].cisco+e[u].office+e[u].r+e[u].go+e[u].ruby+e[u].asp+e[u].scala+e[u].cow+e.actionscript+e.assembly+e.autohotkey+e.coffeescript+e.d+e.fsharp+e.haskell+e.matlab+e.objectivec+e.objectivecplus+e.pascal+e.powershell+e.rust+e.swift+e.typescript+e.vue+e.webassembly+e.apache+e.aws+e.docker+e.nginx+e.saas+e.ipv4+e.ipv6+e.dns,2);var t=n|r[u],a=t.toString(2);a<0&&(a=(a=(t>>>0).toString(2)).slice(-51));var c=a.replace(/[^1]/g,"").length,s=n&r[u],i=s.toString(2);i<0&&(i=(i=(s>>>0).toString(2)).slice(-51));var m=i.replace(/[^1]/g,"").length;o[u]=m/c*100,m==(""+e[u].java+e[u].python+e[u].c+e[u].csharp+e[u].cplus+e[u].php+e[u].html+e[u].css+e[u].javascript+e[u].sql+e[u].unix+e[u].winserver+e[u].windesktop+e[u].linuxdesktop+e[u].macosdesktop+e[u].perl+e[u].bash+e[u].batch+e[u].cisco+e[u].office+e[u].r+e[u].go+e[u].ruby+e[u].asp+e[u].scala+e[u].cow+e[u].actionscript+e[u].assembly+e[u].autohotkey+e[u].coffeescript+e[u].d+e[u].fsharp+e[u].haskell+e[u].matlab+e[u].objectivec+e[u].objectivecplus+e[u].pascal+e[u].powershell+e[u].rust+e[u].swift+e[u].typescript+e[u].vue+e[u].webassembly+e[u].apache+e[u].aws+e[u].docker+e[u].nginx+e[u].saas+e[u].ipv4+e[u].ipv6+e[u].dns).replace(/[^1]/g,"").length&&(o[u]=100)}var p;do{p=!1;var u;for(u=0;u<l.length-1;u++)if(o[u]<o[u+1]){var y=o[u];o[u]=o[u+1],o[u+1]=y;var g=l[u];l[u]=l[u+1],l[u+1]=g;var h=r[u];r[u]=r[u+1],r[u+1]=h,p=!0}}while(p)}}).then(function(){if(d.length>0){var e;for(e=0;e<d.length;e++){var t=l[e];printJob(d[t].id,d[t].title,d[t].description,d[t].hours,d[t].rate,d[t].salary,d[t].startdate,d[t].state,d[t].city,d[t].employername,d[t].employerid,Math.round(o[e]))}}else null==document.getElementById("job")&&(document.getElementById("loading").style.display="none",document.getElementById("nomatches").style.display="block")}).fail(function(){null==document.getElementById("job")&&(document.getElementById("loading").style.display="none",document.getElementById("error").style.display="block")})}).fail(function(){null==document.getElementById("job")&&(document.getElementById("loading").style.display="none",document.getElementById("error").style.display="block")})}function init(){null==document.getElementById("job")&&(document.getElementById("jobs").innerHTML="",document.getElementById("noscript").style.display="none",document.getElementById("nomatches").style.display="none",document.getElementById("error").style.display="none",document.getElementById("loading").style.display="block"),match()}document.addEventListener("DOMContentLoaded",init),null!==document.getElementById("filters")&&(document.getElementById("state").addEventListener("change",init),document.getElementById("hours").addEventListener("change",init),document.getElementById("term").addEventListener("change",init),document.getElementById("rate").addEventListener("change",init),document.getElementById("salary").addEventListener("change",init));
